<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.7">
<title data-react-helmet="true">Map Porting (IW3/4/5 -&gt; H1/H2/S1) | Aurora Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.auroramod.dev/map-porting-iw5"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Map Porting (IW3/4/5 -&gt; H1/H2/S1) | Aurora Docs"><meta data-react-helmet="true" name="description" content="To port maps from IW3, IW4, &amp; IW5, you must use Joelrau&#x27;s zonetool DLL on the h1 branch from GitHub. This version of zonetool will target H1 for asset dumping and is expected to be used with x64-zt for building custom H1 assets from disk."><meta data-react-helmet="true" property="og:description" content="To port maps from IW3, IW4, &amp; IW5, you must use Joelrau&#x27;s zonetool DLL on the h1 branch from GitHub. This version of zonetool will target H1 for asset dumping and is expected to be used with x64-zt for building custom H1 assets from disk."><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.auroramod.dev/map-porting-iw5"><link data-react-helmet="true" rel="alternate" href="https://docs.auroramod.dev/map-porting-iw5" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.auroramod.dev/map-porting-iw5" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.e4465933.css">
<link rel="preload" href="/assets/js/runtime~main.8800e2cd.js" as="script">
<link rel="preload" href="/assets/js/main.0ad8e501.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/h1-header.png" alt="Aurora Docs" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/h1-header.png" alt="Aurora Docs" class="themedImage_1VuW themedImage--dark_hz6m"></div></a><a class="navbar__item navbar__link navbar__link--active" href="/">Docs</a><a href="https://auroramod.dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/auroramod" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Welcome ðŸ‘‹</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/changelog">Changelog</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menuLinkText_1J2g">ðŸŽ® Play H1-Mod</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/install">How to install H1-Mod</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/update">How to update H1-Mod</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/uninstall">How to uninstall H1-Mod</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menuLinkText_1J2g">ðŸ›  Support</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/troubleshoot">Troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/errors">Errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/functions">Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ingamename">Change in-game name</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/unlockall">Unlock everything</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/languages">Languages</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ðŸ”¨ Dedicated Server</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ðŸ’» Scripting</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">ðŸ‘¾ Zonetool</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zonetool-basics">Zonetool Basics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/map-porting-iw5">Map Porting (IW3/4/5 -&gt; H1/H2/S1)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menuLinkText_1J2g">ðŸ’£ Additional Features</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ranked">Ranked Multiplayer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/antialiasing">Anti-aliasing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/aimassist">Aim assist</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fullbright">Fullbright</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Map Porting (IW3/4/5 -&gt; H1/H2/S1)</h1></header><p>To port maps from IW3, IW4, &amp; IW5, you must use <a href="https://github.com/Joelrau/zonetool/tree/h1" target="_blank" rel="noopener noreferrer">Joelrau&#x27;s zonetool DLL</a> on the <strong>h1</strong> branch from GitHub. This version of zonetool will target H1 for asset dumping and is expected to be used with <strong>x64-zt</strong> for building custom H1 assets from disk.</p><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>Due to massive lighting changes done from MW3 -&gt; Ghosts, maps ported from games before Ghosts don&#x27;t take full advantage of H1 technology and may not look the best. For better lightgrid lighting, you can set the dvar <code>r_lightGridNonCompressed</code> to <strong>1</strong> before loading into your map.</p></div></div><p>To start the map porting process, you&#x27;ll need:</p><ul><li>the <a href="https://github.com/ZoneTool/zonetool-binaries" target="_blank" rel="noopener noreferrer">zonetool .exe</a> for your game, which goes in the game files of that game</li><li>the <a href="https://github.com/Joelrau/zonetool/tree/h1" target="_blank" rel="noopener noreferrer">zonetool .dll</a> from <strong><em>Joelrau</em></strong> compiled, which goes right alongside the exe</li></ul><p>Once you find the zone you want to dump <em>(example: mp_bog)</em>, use the <code>dumpzone mp_bog</code> command and wait for your zone to dump. </p><ol><li>find the finalized dumped zone folder at <code>%game files%/dump/mp_bog/</code></li><li>move the dumped folder to <code>%MWR game files%/zonetool/mp_bog/</code></li><li>open x64-zt, and run <code>generatecsv &lt;zone&gt;</code> <em>(example: <code>generatecsv mp_bog</code>)</em></li></ol><h3 class="anchor anchorWithStickyNavbar_31ik" id="fixing-could-not-find-mapped-x-techset-for-y-techset">Fixing &quot;Could not find mapped X techset for Y techset&quot;<a aria-hidden="true" class="hash-link" href="#fixing-could-not-find-mapped-x-techset-for-y-techset" title="Direct link to heading">â€‹</a></h3><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>Mapping techsets is not a beginner friendly task and requires manual work. Doing so could be time consuming depending if you find proper matches and research the materials in H1 to compare to older game materials.</p></div></div><p>To fix this error, you can modify zonetool&#x27;s Material class in Dumper for H1 to map the techsets listed. Using the <a target="_blank" href="/assets/files/h1_asset_listing-d03c64439068f303f98f96e25c3d2147.rar">H1 Asset Listing</a>, you can search up techsets that are similar in H1 and map them.</p><p>Another way to fix this error is to manually fix the techset used in the material listed, and then using the asset listing above to find materials that may be in H1 with the exact same name or a similar material.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="fixing-could-not-find-mapped-x-sortkey-for-sortkey-y">Fixing &quot;Could not find mapped X sortkey for sortkey: Y&quot;<a aria-hidden="true" class="hash-link" href="#fixing-could-not-find-mapped-x-sortkey-for-sortkey-y" title="Direct link to heading">â€‹</a></h3><p>Sortkeys are used in materials and must be remapped from older games to H1 or any newer games. A lot of them are mapped, but some are not completely studied. Leaving this error be can be okay in most cases.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="older-game-techsets">Older game techsets<a aria-hidden="true" class="hash-link" href="#older-game-techsets" title="Direct link to heading">â€‹</a></h3><p>When porting from older games into H1, techsets are remapped to use H1 techsets instead since older games are DX9. Lots of these techsets still exist in one way or another, but it takes some manual work to find them. Luckily, you can download the <a target="_blank" href="/assets/files/h1_asset_listing-d03c64439068f303f98f96e25c3d2147.rar">H1 Asset Listing</a> and then use a ZIP extractor to get the zone sources of H1 techsets. A recommended program to navigate these would be <a href="https://notepad-plus-plus.org/downloads/" target="_blank" rel="noopener noreferrer">Notepad++</a> or <a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreferrer">VSCode</a>.</p><p>Before you start finding missing techsets, use <code>dumpzone &lt;zone name&gt;</code> for:</p><ul><li><code>techsets_common_mp</code></li><li><code>techsets_mp_killhouse</code></li><li><code>techsets_ac130</code></li></ul><p>These will help you filter out any common techset errors you&#x27;ll get.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="sp-techset-dumping">SP techset dumping<a aria-hidden="true" class="hash-link" href="#sp-techset-dumping" title="Direct link to heading">â€‹</a></h3><p>Before dumping techsets from singleplayer, you must run the command <code>loadzone techsets_common</code>, and then you can use dump your singleplayer techsets zone. </p><h3 class="anchor anchorWithStickyNavbar_31ik" id="sp-material-limit-error">SP material limit error<a aria-hidden="true" class="hash-link" href="#sp-material-limit-error" title="Direct link to heading">â€‹</a></h3><p>If you a hit a material limit dumping a singleplayer zone/map, you must modify zonetool to load <code>code_post_gfx</code> + <code>common</code> instead of <code>code_post_gfx_mp</code> + <code>common_mp</code>. You can find the <a href="https://github.com/Joelrau/x64-zt/blob/main/src/zonetool/component/h1/zonetool.cpp#L251" target="_blank" rel="noopener noreferrer">code for common zones here</a>.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="missing-techsets">Missing techsets<a aria-hidden="true" class="hash-link" href="#missing-techsets" title="Direct link to heading">â€‹</a></h3><p>To find missing techsets your map needs, try building your zone in x64-zt. When your zone is building, you might recieve a error alongside something to do with &quot;statebit info&quot;, &quot;techset&quot;, or a very long and weird name. This usually indicates missing techset errors and are easy to resolve.</p><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>When going through the asset listing to find your desired techset, you&#x27;ll need to look for techsets that are <strong>NOT</strong> reference assets. For example:</p><p>non-reference example (good):
<code>techset,my_beautiful_techset_p0n0</code></p><p>reference example (bad, uses two commas):
<code>techset,,my_beautiful_techset_p0n0</code></p><p>(Singleplayer game files <strong>may be required</strong> for some missing techsets)</p></div></div><p>When you dump the zone that contains your desired techset, it should start with <strong>techset_</strong>. After running the <code>dumpzone &lt;zone&gt;</code> command, find your desired techset zone folder in your dump folder <em>(located at <code>%game files%/dump/</code>)</em>, and then put it in <code>%game files%/zonetool_paths/techsets_mp_bog/</code>. x64-zt will now look here for techsets before erroring!</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="fullbrightblack-lighting-on-models-bad-techs-used-in-mats">Fullbright/black lighting on models (bad techs used in mats)<a aria-hidden="true" class="hash-link" href="#fullbrightblack-lighting-on-models-bad-techs-used-in-mats" title="Direct link to heading">â€‹</a></h3><p>Some models/foliage on your map may be fullbright and not responding correctly to the lighting. The reasoning may be due to your foliage/model using <code>mc_ambient_t0c0_nfwpf</code>. If this is the case, replace it with techset <code>mc_l_sm_t0c0_nfwpf</code>. This <strong>should be fixed</strong> on newer ZoneTool versions on Joelrau&#x27;s fork, however older maps &amp; dumps may have this problem.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/h1-mod/docs/blob/main/docs/map-porting-iw5.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/zonetool-basics"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Zonetool Basics</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/ranked"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Ranked Multiplayer<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#fixing-could-not-find-mapped-x-techset-for-y-techset" class="table-of-contents__link toc-highlight">Fixing &quot;Could not find mapped X techset for Y techset&quot;</a></li><li><a href="#fixing-could-not-find-mapped-x-sortkey-for-sortkey-y" class="table-of-contents__link toc-highlight">Fixing &quot;Could not find mapped X sortkey for sortkey: Y&quot;</a></li><li><a href="#older-game-techsets" class="table-of-contents__link toc-highlight">Older game techsets</a></li><li><a href="#sp-techset-dumping" class="table-of-contents__link toc-highlight">SP techset dumping</a></li><li><a href="#sp-material-limit-error" class="table-of-contents__link toc-highlight">SP material limit error</a></li><li><a href="#missing-techsets" class="table-of-contents__link toc-highlight">Missing techsets</a></li><li><a href="#fullbrightblack-lighting-on-models-bad-techs-used-in-mats" class="table-of-contents__link toc-highlight">Fullbright/black lighting on models (bad techs used in mats)</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Â© 2024 - Aurora.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.8800e2cd.js"></script>
<script src="/assets/js/main.0ad8e501.js"></script>
</body>
</html>