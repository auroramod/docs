"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[864],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return c}});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=o.createContext({}),m=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=m(e.components);return o.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=m(n),c=r,h=u["".concat(l,".").concat(c)]||u[c]||d[c]||a;return n?o.createElement(h,i(i({ref:t},p),{},{components:n})):o.createElement(h,i({ref:t},p))}));function c(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var m=2;m<a;m++)i[m]=n[m];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},8925:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return m},toc:function(){return p},default:function(){return u}});var o=n(7462),r=n(3366),a=(n(7294),n(3905)),i=["components"],s={},l="Map Porting (IW3/4/5 -> H1/H2/S1)",m={unversionedId:"map-porting-iw5",id:"map-porting-iw5",isDocsHomePage:!1,title:"Map Porting (IW3/4/5 -> H1/H2/S1)",description:"To port maps from IW3, IW4, & IW5, you must use Joelrau's zonetool DLL on the h1 branch from GitHub. This version of zonetool will target H1 for asset dumping and is expected to be used with x64-zt for building custom H1 assets from disk.",source:"@site/docs/map-porting-iw5.md",sourceDirName:".",slug:"/map-porting-iw5",permalink:"/map-porting-iw5",editUrl:"https://github.com/h1-mod/docs/blob/main/docs/map-porting-iw5.md",tags:[],version:"current",frontMatter:{},sidebar:"mainSidebar",previous:{title:"Zonetool Basics",permalink:"/zonetool-basics"},next:{title:"Ranked Multiplayer",permalink:"/ranked"}},p=[{value:"Older game techsets",id:"older-game-techsets",children:[],level:3},{value:"Singleplayer techset dumping",id:"singleplayer-techset-dumping",children:[],level:3},{value:"Missing techsets",id:"missing-techsets",children:[],level:3},{value:"Fullbright/black lighting on models (bad techs used in mats)",id:"fullbrightblack-lighting-on-models-bad-techs-used-in-mats",children:[],level:3}],d={toc:p};function u(e){var t=e.components,s=(0,r.Z)(e,i);return(0,a.kt)("wrapper",(0,o.Z)({},d,s,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"map-porting-iw345---h1h2s1"},"Map Porting (IW3/4/5 -> H1/H2/S1)"),(0,a.kt)("p",null,"To port maps from IW3, IW4, & IW5, you must use ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/Joelrau/zonetool/tree/h1"},"Joelrau's zonetool DLL")," on the ",(0,a.kt)("strong",{parentName:"p"},"h1")," branch from GitHub. This version of zonetool will target H1 for asset dumping and is expected to be used with ",(0,a.kt)("strong",{parentName:"p"},"x64-zt")," for building custom H1 assets from disk."),(0,a.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"Due to massive lighting changes done from MW3 -> Ghosts, maps ported from games before Ghosts don't take full advantage of H1 technology and may not look the best. For better lightgrid lighting, you can set the dvar ",(0,a.kt)("inlineCode",{parentName:"p"},"r_lightGridNonCompressed")," to ",(0,a.kt)("strong",{parentName:"p"},"1")," before loading into your map."))),(0,a.kt)("p",null,"To start the map porting process, you'll need:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"the ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/ZoneTool/zonetool-binaries"},"zonetool .exe")," for your game, which goes in the game files of that game"),(0,a.kt)("li",{parentName:"ul"},"the ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/Joelrau/zonetool/tree/h1"},"zonetool .dll")," from ",(0,a.kt)("strong",{parentName:"li"},(0,a.kt)("em",{parentName:"strong"},"Joelrau"))," compiled, which goes right alongside the exe")),(0,a.kt)("p",null,"Once you find the zone you want to dump ",(0,a.kt)("em",{parentName:"p"},"(example: mp_bog)"),", use the ",(0,a.kt)("inlineCode",{parentName:"p"},"dumpzone mp_bog")," command and wait for your zone to dump. "),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"find the finalized dumped zone folder at ",(0,a.kt)("inlineCode",{parentName:"li"},"%game files%/dump/mp_bog/")),(0,a.kt)("li",{parentName:"ol"},"move the dumped folder to ",(0,a.kt)("inlineCode",{parentName:"li"},"%MWR game files%/zonetool/mp_bog/")),(0,a.kt)("li",{parentName:"ol"},"open x64-zt, and run ",(0,a.kt)("inlineCode",{parentName:"li"},"generatecsv <zone>")," ",(0,a.kt)("em",{parentName:"li"},"(example: ",(0,a.kt)("inlineCode",{parentName:"em"},"generatecsv mp_bog"),")"))),(0,a.kt)("h3",{id:"older-game-techsets"},"Older game techsets"),(0,a.kt)("p",null,"When porting from older games into H1, techsets are remapped to use H1 techsets instead since older games are DX9. Lots of these techsets still exist in one way or another, but it takes some manual work to find them. Luckily, you can download the ",(0,a.kt)("a",{target:"_blank",href:n(1737).Z},"H1 Asset Listing")," and then use a ZIP extractor to get the zone sources of H1 techsets. A recommended program to navigate these would be ",(0,a.kt)("a",{parentName:"p",href:"https://notepad-plus-plus.org/downloads/"},"Notepad++")," or ",(0,a.kt)("a",{parentName:"p",href:"https://code.visualstudio.com/"},"VSCode"),"."),(0,a.kt)("p",null,"Before you start finding missing techsets, use ",(0,a.kt)("inlineCode",{parentName:"p"},"dumpzone <zone name>")," for:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"techsets_common_mp")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"techsets_mp_killhouse")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"techsets_ac130"))),(0,a.kt)("p",null,"These will help you filter out any common techset errors you'll get."),(0,a.kt)("h3",{id:"singleplayer-techset-dumping"},"Singleplayer techset dumping"),(0,a.kt)("p",null,"Before dumping techsets from singleplayer, you must run the command ",(0,a.kt)("inlineCode",{parentName:"p"},"loadzone techsets_common"),", and then you can use dump your singleplayer techsets zone."),(0,a.kt)("h3",{id:"missing-techsets"},"Missing techsets"),(0,a.kt)("p",null,'To find missing techsets your map needs, try building your zone. When your zone is building, you might recieve a error alongside something to do with "statebit info", "techset", or a very long and weird name. This usually indicates missing techset errors and are easy to resolve.'),(0,a.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"When going through the asset listing to find your desired techset, you'll need to look for techsets that are ",(0,a.kt)("strong",{parentName:"p"},"NOT")," reference assets. For example:"),(0,a.kt)("p",{parentName:"div"},"non-reference example (good):\n",(0,a.kt)("inlineCode",{parentName:"p"},"techset,my_beautiful_techset_p0n0")),(0,a.kt)("p",{parentName:"div"},"reference example (bad, uses two commas):\n",(0,a.kt)("inlineCode",{parentName:"p"},"techset,,my_beautiful_techset_p0n0")),(0,a.kt)("p",{parentName:"div"},"(Singleplayer game files ",(0,a.kt)("strong",{parentName:"p"},"may be required")," for some missing techsets)"))),(0,a.kt)("p",null,"When you dump the zone that contains your desired techset, it should start with ",(0,a.kt)("strong",{parentName:"p"},"techset_"),". After running the ",(0,a.kt)("inlineCode",{parentName:"p"},"dumpzone <zone>")," command, find your desired techset zone folder in your dump folder ",(0,a.kt)("em",{parentName:"p"},"(located at ",(0,a.kt)("inlineCode",{parentName:"em"},"%game files%/dump/"),")"),", and then put it in ",(0,a.kt)("inlineCode",{parentName:"p"},"%game files%/zonetool_paths/techsets_mp_bog/"),". x64-zt will now look here for techsets before erroring!"),(0,a.kt)("h3",{id:"fullbrightblack-lighting-on-models-bad-techs-used-in-mats"},"Fullbright/black lighting on models (bad techs used in mats)"),(0,a.kt)("p",null,"Some models/foliage on your map may be fullbright and not responding correctly to the lighting. The reasoning may be due to your foliage/model using ",(0,a.kt)("inlineCode",{parentName:"p"},"mc_ambient_t0c0_nfwpf"),". If this is the case, replace it with techset ",(0,a.kt)("inlineCode",{parentName:"p"},"mc_l_sm_t0c0_nfwpf"),". This ",(0,a.kt)("strong",{parentName:"p"},"should be fixed")," on newer ZoneTool versions on Joelrau's fork, however older maps & dumps may have this problem."))}u.isMDXComponent=!0},1737:function(e,t,n){t.Z=n.p+"assets/files/h1_asset_listing-d03c64439068f303f98f96e25c3d2147.rar"}}]);